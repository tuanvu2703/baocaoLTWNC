<form method="post" action="<%= '/chat/addmess/'+iduser %>"
    class="bg-gray-100 h-screen flex items-center justify-center">
    <div id="chat-window" class="bg-white w-full h-full p-5 flex flex-col">
        <div id="chatBox" class="flex-1 overflow-y-auto space-y-2 pb-4">
            <% if (messdata && messdata.length> 0) { %>
                <% messdata.forEach((messdata, index)=> { %>
                    <div class="w-full flex <%= messdata.role === 0 ? 'justify-end' : '' %>">
                        <div class="bg-<%= messdata.role === 0 ? 'blue' : 'gray' %>-200 rounded-md p-2 max-w-[70%]">
                            <%= messdata.mess %>
                        </div>
                    </div>
                    <% }); %>
                        <% } else { %>
                            <p class="text-center py-2">No messages available</p>
                            <% } %>
        </div>
        <div id="chat-input" class="flex items-center space-x-2 mt-4">
            <input type="text" id="inputmess" name="inputmess" placeholder="Type your message..."
                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
            <button id="sendchat"
                class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition ml-5">
                Send
            </button>
        </div>
    </div>
    <script>
        function rollbuttom() {
            const chatBox = document.getElementById('chatBox');
            chatBox.scrollTop = chatBox.scrollHeight;
        }
        window.onload = function () {
            rollbuttom();
        }
    </script>
</form>